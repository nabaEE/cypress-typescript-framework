pipeline {
  agent any

  stages {
    stage('Clone Repo') {
      steps {
        // No credentials needed since repo is public
        git url: 'https://github.com/nabaEE/cypress-typescript-framework.git'
      }
    }

    stage('Run Cypress Tests') {
      steps {
        sh '''
          docker run --rm \
            -v $PWD:/e2e \
            -w /e2e \
            cypress/included:14.4.1
        '''
      }
    }
  }
}
